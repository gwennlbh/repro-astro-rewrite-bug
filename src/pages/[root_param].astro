---
// Adding this does not change anything
// export const prerender = true

import type { GetStaticPaths } from "astro"
export const getStaticPaths = (() => {
  return [
    {
      params: { root_param: "hello" },
    },
    {
      params: { root_param: "héllo" },
    },
    {
      params: { root_param: encodeURIComponent("héllo") },
    },
    {
      params: { root_param: "accented_hello" },
    },
    {
      params: { root_param: "ascii_héllo" }
    }
  ]
}) satisfies GetStaticPaths

let { root_param } = Astro.params

// Testing rewriting from a ASCII param to an accented one
if (root_param === "accented_hello") {
  return Astro.rewrite(`/redirected/héllo`)
}

// Testing rewriting from a accented param to an ASCII one
if (root_param === "ascii_héllo") {
  return Astro.rewrite(`/redirected/hello`)
}


return Astro.rewrite(`/redirected/${root_param}`)
---
